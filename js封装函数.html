<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<script>
    /**
     * 删除数组的最后一个元素
     * 如果这个数组是空，那么调用这个函数，返回值是 undefined
     * 如果不是空数组返回值为被删除的数据
     * @param arr 唯一的数组
     */
    function pop(arr) {
        if(arr.length==0) return undefined;
        var temp=arr[arr.length-1];
        arr.length--;
        return temp;
    }

    /**
     * 删除数组的第一个元素
     * 调用shift方法，删除数组中第一个数据
     *  如果这个数组是空，那么调用这个函数，返回值是 undefined
     * 如果不是空数组返回值为被删除的数据
     * @param arr 唯一的数组
     */
    function shift(arr) {
        var len=arr.length;
        if(!len) return;
        var first=arr[0];
        for(var i=0;i<len;i++){
            arr[i]=arr[i+1];
        }
        arr.length--;
        return first;
    }
    var arr = ['a', 'b', 'c'];

   // console.log(shift(arr));  // 'a'
    //console.log(arr);  // ['b', 'c']

    /**
     *返回item数据的位置
     * @param arr 要查找的数组
     * @param item  要查找的数据
     * 如果查找的数据未找到，函数返回值为-1，如果找到返回这个数据的位置
     */
    function indexOf(arr,item) {
        for(var i=0;i<arr.length;i++){
            if(arr[i]===item){
                return i;
            }
        }
        return -1;
    }
//        var arr = [1, 2, 'a', 4];
//        console.log(indexOf(arr, 'a'));  // 2
//        console.log(indexOf(arr, 10));  // -1

    /**
     *返回删除这;个索引对应的数据
     * @param arr 要查询的数组
     * @param index 索引
     */
    function spliceOne(arr,index) {
        if(arr.length==0) return undefined;
        var temp=arr[index];
        for (var i=index;i<arr.length;i++){
            arr[i]=arr[i+1];
        }
//        for(var i=0,n=0;i<arr.length;i++){
//            if(arr[i]!=arr[index]){
//                arr[n++]=arr[i];
//            }
//        }
        arr.length--;
        return temp;
    }
//        var arr = [1, 2, 3, 4];
//        console.log(spliceOne(arr, 2));  // 3
//        console.log(arr);  // [1, 2, 4];
    /**
     *数组中的每一项会被指定的分割符连起来如果不指定分隔符，默认就是 ','
     * @param arr 数组
     * @param spliter 分隔符
     */
    function  join(arr,spliter) {
        var strTmp="";
        if(typeof spliter==="undefined"){
            return arr.toString();
        }
        if(typeof spliter!=="string") return false;
        for(var i=0;i<arr.length;i++){
            strTmp+=i<arr.length-1?arr[i]+spliter:arr[i];
//            if(arr[i]!=""){
//                if(strTmp==""){
//                    strTmp=arr[i];
//                }else{
//                    strTmp=strTmp+spliter+arr[i];
//                }
//            }
        }
        return strTmp;
    }
//    var arr = [1, 2, 3];
//    console.log(join(arr));  // '1,2,3'
//    console.log(join(arr, '')); // '123'
//    console.log(join(arr, '--'));  //'1--2--3';
//    console.log(join(arr, 123));  // false
//    console.log(arr); // [1, 2, 3];
    /**
     * 返回反转后的数组
     * @param arr 原数组
     */
    function  reverse(arr){
//        var newArr=[];
//        for(var i=arr.length-1;i>=0;i--){
//           newArr.push(arr[i]);
//        }
//        return newArr;
        var len=arr.length;
        if(len<2) return arr;
        for (var i=0;i<len;i++){
            var start=i,end=len-i-1;
            if(start<end){
//                var temp=arr[start];
//                arr[start]=arr[end];
//                arr[end]=temp;
                [arr[start],arr[end]]=[arr[end],arr[start]];
            }
        }
        return arr;
    }
//        var arr = [1,2,3];
//        console.log(reverse(arr));  // [3, 2, 1]
    /**
     * 将第二个开始的参数放入数组的最后面
     *返回新数组的长度
     * @param arr 数组
     * @param rest 任意参数，参数不固定
     */
    function push(arr,...rest){
        for(var i=0;i<rest.length;i++){
            arr[arr.length]=rest[i];
        }
        return arr.length;
    }
    var arr=[1,2,3];
    console.log(push(arr,4,5,6));
    console.log(arr);

    /**
     *将第二个开始的参数放入数组的最前面
     * @param arr 数组
     * @param rest 任意参数，参数不固定
     */
    function unshift(arr,...rest) {
        for(var i=0;i<rest.length;i++){
            for(var j=arr.length;j>0;j--){
                arr[j]=arr[j-1];
            }
            arr[0]=rest[i];
    }
        return arr.length;
    }


    /**
     * 过滤返回符合条件的新数组
     * @param arr 过滤的数组
     * @param fn 将一个函数当做过渡条件
     */
    function filter(arr,fn) {
        var newArr=[];
        for(var i=0;i<arr.length;i++){
            if(fn(arr[i],i)){
                newArr.push(arr[i]);
            }
        }
        return newArr;
    }
//    var arr = [11, 4, 7, 12, 17, 9];
//
//  var result = filter(arr, function (item, i){
//    console.log(i);
//        return item > 10;
//    });
//
//    console.log(result);  // [11, 12, 17];
//    var data = [
//        {id: 1, checked: true},
//        {id: 2, checked: false},
//        {id: 3, checked: true},
//        {id: 4, checked: false}
//    ]
//    var ret=filter(data,function (item) {
//        return item.checked;
//    })
//    console.log(ret);
    /**
     * 数组截取
     * 如果只传了这个数组，那么返回这个数组的浅拷贝
     *  如果只传了开始位置，那么会一直截取到数组的最后
     * 如果开始位置大于数组的长度，那么会返回空数组
     * 如果结束位置大于数组的长度，那么结束位置就等于数组的长度
     * 如果开始位置大于结束位置，那么返回空数组
     * 如果开始位置或者结束位置是一个负数，那么相当于这个负数加上length，
     * 如果相加之后的结果依然是个负数，那么返回空数组
     * @param arr 要截取的数组
     * @param start 截取的开始位置
     * @param end  截取的结束位置
     *
     */
    function slice(arr,start,end) {
        var result=[],len=arr.length;
        if(typeof  start==='undefined'){
            start=0;
            end=len;
        }
        if(typeof  end==='undefined' || end>len){
            end=len;
        }
        if (start < 0) start += len
        if (end < 0) end += len
        if(start>len || start > end  || start<0 || end<0 || !len)  return result;
        for (var i=start; i<end; i++) {
            push(result, arr[i])
        }

        return result
    }

//    var arr = [1, 2, 3, 4]
//    var copy = slice(arr,-6)
//    console.log(copy);
//    console.log(slice(arr,-3,-1));
//    console.log(slice(arr,1,3)); //[2,3]

</script>
</body>
</html>